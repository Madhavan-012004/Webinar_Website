<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Login / Signup | Zest Hub</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body class="auth-body">

    <div class="auth-container">
        <div class="auth-left">
            <div class="auth-glass">
                <h2>Welcome to <br> <span class="grad-text">Zest Hub</span></h2>
                <p>Join the elite student community.</p>
            </div>
        </div>

        <div class="auth-right">
            
            <form id="loginForm" class="auth-form active">
                <h2>Sign In</h2>
                <div class="input-group">
                    <i class="fa-solid fa-user"></i>
                    <input type="text" id="l_user" placeholder="Email or Username" required>
                </div>
                <div class="input-group">
                    <i class="fa-solid fa-lock"></i>
                    <input type="password" id="l_pass" placeholder="Password" required>
                    <i class="fa-solid fa-eye toggle-pass" onclick="togglePass('l_pass', this)"></i>
                </div>
                <div class="form-options">
                    <label><input type="checkbox"> Remember me</label>
                    <span onclick="showForm('forgotForm')">Forgot Password?</span>
                </div>
                <button type="submit" class="btn btn-primary w-full">Login Securely</button>
                <p class="switch-text">New here? <span onclick="showForm('signupForm')">Create Account</span></p>
            </form>

            <form id="signupForm" class="auth-form">
                <h2>Create Account</h2>
                
                <div class="input-group">
                    <i class="fa-solid fa-user-tag"></i>
                    <input type="text" id="s_username" placeholder="Choose Username" required>
                </div>

                <div class="input-group">
                    <i class="fa-solid fa-user"></i>
                    <input type="text" id="s_name" placeholder="Full Name" required>
                </div>

                <div class="input-group">
                    <i class="fa-solid fa-envelope"></i>
                    <input type="email" id="s_email" placeholder="Email Address" required>
                    <button type="button" class="btn-xs" onclick="sendSignupOTP()">Verify</button>
                </div>
                
                <div class="input-group" id="signupOtpField" style="display:none;">
                    <i class="fa-solid fa-key"></i>
                    <input type="text" id="s_otp" placeholder="Enter OTP sent to Email">
                </div>

                <div class="input-group">
                    <i class="fa-solid fa-lock"></i>
                    <input type="password" id="s_pass" placeholder="Password (8-16 chars)" required>
                    <i class="fa-solid fa-eye toggle-pass" onclick="togglePass('s_pass', this)"></i>
                </div>
                
                <div class="input-group">
                    <i class="fa-solid fa-shield-halved"></i>
                    <input type="password" id="s_confirm_pass" placeholder="Confirm Password" required>
                </div>

                <div class="password-strength">
                    <div id="strength-bar"></div>
                </div>
                <small id="pass-msg" style="color:gray; font-size:0.7rem;">Use 8-16 chars, mix of letters & numbers.</small>

                <select id="s_role" style="background:#0F172A; color:white; border:1px solid #333; padding:10px; width:100%; border-radius:8px; margin-top:10px;">
                    <option value="Student">Student</option>
                    <option value="Professional">Professional</option>
                </select>

                <button type="submit" class="btn btn-primary w-full" style="margin-top:15px;">Sign Up</button>
                <p class="switch-text">Already have an account? <span onclick="showForm('loginForm')">Login</span></p>
            </form>

            <form id="forgotForm" class="auth-form">
                <h2>Reset Password</h2>
                <p style="color:gray; font-size:0.9rem; margin-bottom:15px;">Enter your email to receive an OTP.</p>
                
                <div class="input-group">
                    <i class="fa-solid fa-envelope"></i>
                    <input type="email" id="f_email" placeholder="Enter Registered Email" required>
                </div>

                <div class="input-group" id="forgotOtpField" style="display:none;">
                    <i class="fa-solid fa-key"></i>
                    <input type="text" id="f_otp" placeholder="Enter OTP">
                </div>

                <div class="input-group" id="newPassField" style="display:none;">
                    <i class="fa-solid fa-lock"></i>
                    <input type="password" id="f_new_pass" placeholder="New Password">
                </div>

                <button type="button" id="f_action_btn" class="btn btn-primary w-full" onclick="handleForgotFlow()">Send OTP</button>
                <p class="switch-text"><span onclick="showForm('loginForm')">Back to Login</span></p>
            </form>

        </div>
    </div>

    <div id="toast-container"></div>

    <script src="auth.js"></script>
</body>
</html>